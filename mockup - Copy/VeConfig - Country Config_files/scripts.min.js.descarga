"use strict";window.config=function(a,b){var c=a.cookieSync=a.cookieSync||{},d=c.bindings=c.bindings||{};return ko.bindingHandlers.bootstrapSwitch={init:function(a,c,d){b(a).bootstrapSwitch(),b(a).bootstrapSwitch("state",c()),b(a).on("switchChange.bootstrapSwitch",function(a,b){c()(b)});var e=d().bootstrapSwitchOptions||{};for(var f in e)b(a).bootstrapSwitch(f,ko.utils.unwrapObservable(e[f]));ko.utils.domNodeDisposal.addDisposeCallback(a,function(){b(a).bootstrapSwitch("destroy")})},update:function(a,c,d){var e=ko.utils.unwrapObservable(c()),f=d().bootstrapSwitchOptions||{};for(var g in f)b(a).bootstrapSwitch(g,ko.utils.unwrapObservable(f[g]));b(a).bootstrapSwitch("state",e)}},d.init=function(){var a=b("#main-container").data("get-jourey-configs-url");b.getJSON(a,function(a){var b=ko.utils.arrayMap(a,function(a){return new c.SyncJourneyConfig({customerId:a.CustomerId,journeyId:a.JourneyId,journeyName:a.JourneyName,journeyCode:a.JourneyCode,countryId:a.CountryId,countryCode:a.CountryCode,countryName:a.CountryName,isDropEnabled:a.IsDropEnabled,isSyncEnabled:a.IsSyncEnabled,syncIntervalDays:a.SyncIntervalDays,partners:ko.utils.arrayMap(a.Partners,function(a){return new c.SyncPartner(a.Id,a.Name,a.Type,a.Url,a.Checked)})})}),d=new c.PageViewModel(b);ko.applyBindings(d)})},a}(window,jQuery),window.config=function(a,b){var c=a.cookieSync=a.cookieSync||{};return c.SyncPartner=function(a,b,c,d,e){var f=this;f.id=ko.observable(a),f.name=ko.observable(b),f.type=ko.observable(c),f.url=ko.observable(d),f.checked=ko.observable(e),f.checked.subscribe(function(){ko.contextFor(document.getElementById("main-container")).$root.isPageDirty(!0)})},c.SyncJourneyConfig=function(a){var c=this;b.extend(c,a),c.isDropEnabled=ko.observable(a.isDropEnabled),c.isSyncEnabled=ko.observable(a.isSyncEnabled),c.partners=ko.observableArray(a.partners),c.dspPartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 1===a.type()})}),c.dmpPartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 2===a.type()})}),c.marketPlacePartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 3===a.type()})}),c.isDropEnabled.subscribe(function(){ko.contextFor(document.getElementById("main-container")).$root.isPageDirty(!0)}),c.isSyncEnabled.subscribe(function(){ko.contextFor(document.getElementById("main-container")).$root.isPageDirty(!0)})},c.PageViewModel=function(a){var c=this;c.isPageDirty=ko.observable(!1),c.loaded=ko.observable(!0),c.isSaving=ko.observable(!1),c.journeyConfigs=ko.observableArray(a),c.cancel=function(){window.location.reload()},c.save=function(){c.isSaving(!0);var a=b("#main-container").data("save-jourey-configs-url"),d=ko.toJS(c.journeyConfigs());return b.ajax({type:"POST",url:a,data:JSON.stringify(d),contentType:"application/json; charset=utf-8",success:function(a){a.ErrorMessage?(c.isSaving(!1),alert(a.ErrorMessage)):window.location.reload(!0)},dataType:"json"}),!1}},a}(window,jQuery),window.config=function(a,b){var c=a.country=a.country||{},d=c.bindings=c.bindings||{};return ko.bindingHandlers.bootstrapSwitch={init:function(a,c,d){b(a).bootstrapSwitch(),b(a).bootstrapSwitch("state",c()),b(a).on("switchChange.bootstrapSwitch",function(a,b){c()(b)});var e=d().bootstrapSwitchOptions||{};for(var f in e)b(a).bootstrapSwitch(f,ko.utils.unwrapObservable(e[f]));ko.utils.domNodeDisposal.addDisposeCallback(a,function(){b(a).bootstrapSwitch("destroy")})},update:function(a,c,d){var e=ko.utils.unwrapObservable(c()),f=d().bootstrapSwitchOptions||{};for(var g in f)b(a).bootstrapSwitch(g,ko.utils.unwrapObservable(f[g]));b(a).bootstrapSwitch("state",e)}},d.init=function(){var a=b("#main-container").data("get-country-configs-url");b.getJSON(a,function(a){var b=ko.utils.arrayMap(a,function(a){return new c.SyncCountryConfig({countryId:a.CountryId,countryName:a.CountryName,countryCode:a.CountryCode,isDropEnabled:a.IsDropEnabled,isSyncEnabled:a.IsSyncEnabled,partners:ko.utils.arrayMap(a.Partners,function(b){return new c.SyncPartner(a.CountryCode,b.Id,b.Name,b.Type,b.Url,b.Checked)})})}),d=new c.PageViewModel(b);ko.applyBindings(d)})},a}(window,jQuery),$(document).ready(function(){config.country.bindings.init()}),window.config=function(a,b){var c=a.country=a.country||{},d=a.sidePanel=a.sidePanel||{},e={paging:{pageSize:10}},f={paging:{getPageCount:function(a){var b=e.paging.pageSize,c=Math.floor(a/b);return b*c===a?c:c+1}}};return c.SyncPartner=function(a,b,c,d,e,f){var g=this;g.id=ko.observable(b),g.name=ko.observable(c),g.type=ko.observable(d),g.url=ko.observable(e),g.checked=ko.observable(f),g.checked.subscribe(function(){ko.contextFor(document.getElementById("row-"+a)).$data.isPageDirty(!0)})},c.SyncCountryConfig=function(a){var c=this;b.extend(c,a),c.isPageDirty=ko.observable(!1),c.isDropEnabled=ko.observable(a.isDropEnabled),c.isSyncEnabled=ko.observable(a.isSyncEnabled),c.partners=ko.observableArray(a.partners),c.dspPartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 1===a.type()})}),c.dmpPartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 2===a.type()})}),c.marketPlacePartners=ko.pureComputed(function(){return c.partners().filter(function(a){return 3===a.type()})}),c.isDropEnabled.subscribe(function(){ko.contextFor(document.getElementById("row-"+a.countryCode)).$data.isPageDirty(!0)}),c.isSyncEnabled.subscribe(function(){ko.contextFor(document.getElementById("row-"+a.countryCode)).$data.isPageDirty(!0)}),c.cancel=function(){window.location.reload()},c.openPanel=function(){d.openPanel(c)}},c.PageViewModel=function(a){var b=this;b.loaded=ko.observable(!0),b.isSaving=ko.observable(!1),b.allCountryConfigs=ko.observableArray(a),b.acceptedNumericValue=ko.observable(1),b.pageNumber=ko.pureComputed({read:function(){return b.acceptedNumericValue()},write:function(a){var c=b.acceptedNumericValue();""===a||isNaN(a)||a<1||a>b.pageCount()?b.acceptedNumericValue.notifySubscribers(c):b.acceptedNumericValue(a)},owner:this}).extend({notify:"always"}),b.pageCount=ko.observable(f.paging.getPageCount(a.length)),b.countryConfigs=ko.computed(function(){var a=b.pageNumber()-1,c=e.paging.pageSize;return b.allCountryConfigs().slice(a*c,(a+1)*c)}),b.firstPage=function(){b.pageNumber(1)},b.previousPage=function(){b.pageNumber(Number(b.pageNumber())-1)},b.nextPage=function(){b.pageNumber(Number(b.pageNumber())+1)},b.lastPage=function(){b.pageNumber(b.pageCount())},b.setSaveStatus=function(a){b.isSaving(a)}},a}(window,jQuery),$(document).ready(function(){config.cookieSync.bindings.init()}),window.config=function(a,b){var c=a.sidePanel=a.sidePanel||{};return c.openPanel=function(a){b(".side-panel-section").data("current-country-config",a),b("#saveWithoutOverwrite").click(),b("#saveCountryConfigPanelWrapper").addClass("inactive"),b("#saveCountryConfigPanel").removeClass("right-hide"),b("#saveCountryConfigPanel").parent().removeClass("right-hide").css("z-index",101),b(".left-panel").css("z-index",7)},c.closePanel=function(){b("#saveCountryConfigPanel").addClass("right-hide"),b("#saveCountryConfigPanel").parent().addClass("right-hide"),setTimeout(function(){b("#saveCountryConfigPanel").parent().css("z-index",1)},600),b(".left-panel").css("z-index",9),b("#saveCountryConfigPanelWrapper").removeClass("inactive")},c.save=function(){var a=b(".side-panel-section").data("current-country-config");ko.contextFor(document.getElementById("row-"+a.countryCode)).$root.setSaveStatus(!0);var c=b(".countryItem").data("save-country-configs-url"),d=b('input[name="SaveOverwrite"]:checked').val(),e=ko.toJS(a);return b.ajax({type:"POST",url:c,data:JSON.stringify({settings:e,overwrite:d}),contentType:"application/json; charset=utf-8",success:function(b){b.ErrorMessage?(alert(b.ErrorMessage),ko.contextFor(document.getElementById("row-"+a.countryCode)).$root.setSaveStatus(!1)):window.location.reload(!0)},dataType:"json"}),!1},a}(window,jQuery);
//# sourceMappingURL=scripts.min.js.map